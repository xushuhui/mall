syntax = "proto3";

package mall;

import "google/api/annotations.proto";

option go_package = "mall-go/api/mall";

// The greeting service definition.
service Show {
  // Sends a greeting
  rpc GetBannerById(BannerByIdRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/banner/id/{id}"
    };
  }
  rpc GetBannerByName(BannerByNameRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/banner/name/{name}"
    };
  }
  rpc GetThemeByNames(ThemeByNamesRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/theme/by/names"
    };
  }
  //
  rpc GetThemeWithSpu(ThemeWithSpuRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/theme/name/{name}/with_spu"
    };
  }
  rpc GetActivityByName(ActivityByNameRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/activity/name/{name}"
    };
  }
  rpc GetActivityWithCoupon(ActivityWithCouponRequest) returns (Banner) {
    option (google.api.http) = {
      get : "/activity/name/{name}/with_coupon"
    };
  }
}

message BannerByIdRequest { int64 id = 1; }
message BannerByNameRequest { string name = 1; }
message ThemeByNamesRequest { repeated string name = 1; }
message ThemeWithSpuRequest {  string name = 1; }
message ActivityByNameRequest {  string name = 1; }
message ActivityWithSpuRequest {  string name = 1; }
message CouponByCategoryRequest {  int64 cid = 1; }
message ActivityWithCouponRequest {  string name = 1; }
message Theme {
  int64 id = 1;
  string title = 2;
  string description = 3;
  string name = 4;
  string entrance_img = 5;
  string extend = 6;
  string internal_top_img = 7;
  string title_img = 8;
  string tpl_name = 9;
  bool online = 10;
}
message ThemeSpu {
  string title = 1;
  string description = 2;
  string name = 3;
  string extend = 4;
  string entrance_img = 5;
  string internal_top_img = 6;
  bool online = 7;
  string title_img = 8;
  string tpl_name = 9;
  repeated Spu spu_list = 10;
}
message Spu {
  uint32 id = 1;
  string title = 2;
  string subtitle = 3;
  uint32 category_id = 4;
  uint32 root_category_id = 5;
  string price = 6;
  string img = 7;
  string for_theme_img = 8;
  string description = 9;
  string discount_price = 10;
  string tags = 11;
  bool is_test = 12;
  bool online = 13;
}
message Banner { 
  int64 id = 1;
  string name = 2;
  string title = 3;
  string img = 4;
  string description = 5;
  repeated BannerItem items=6;
}
message BannerItem {
  int64 id=1;
  string img=2;
  string keyword=3;
  int32 type=4;
  string name=5;
  int64 bannerId=6;
}
message Activity {
  uint32 id = 1;
  string title = 2;
  string entrance_img = 3;
  bool online = 4;
  string remark = 5;
  string start_time = 6;
  string end_time = 7;
}
message ActivityCoupon {
  uint32 id = 1;
  string title = 2;
  string entrance_img = 3;
  bool online = 4;
  string remark = 5;
  string start_time = 6;
  string end_time = 7;
  repeated Coupon coupon = 8;
}
message Coupon {
  uint32 id = 1;
  string title = 2;
  uint64 start_time = 3;
  uint64 end_time = 4;
  string description = 5;
  string full_money = 6;
  double minus = 7;
  string rate = 8;
  uint32 type = 9;
  string remark = 10;
  bool whole_store = 11;
}